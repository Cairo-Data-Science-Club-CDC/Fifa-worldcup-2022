<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1.1 Where and how can we get the data? | Fifa worldcup 2022</title>
  <meta name="description" content="1.1 Where and how can we get the data? | Fifa worldcup 2022" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="1.1 Where and how can we get the data? | Fifa worldcup 2022" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1.1 Where and how can we get the data? | Fifa worldcup 2022" />
  
  
  

<meta name="author" content="Mohamed R.Shoeb" />


<meta name="date" content="2022-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="history-of-hosting-fifa-world-cup.html"/>
<link rel="next" href="how-many-world-cups-were-hosted-in-each-continent.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">FIFA world cup 2022</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-read-this-book"><i class="fa fa-check"></i>Why read this book?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i>How to read this book?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the author</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="history-of-hosting-fifa-world-cup.html"><a href="history-of-hosting-fifa-world-cup.html"><i class="fa fa-check"></i><b>1</b> History of hosting FIFA World Cup</a>
<ul>
<li class="chapter" data-level="1.1" data-path="where-and-how-can-we-get-the-data.html"><a href="where-and-how-can-we-get-the-data.html"><i class="fa fa-check"></i><b>1.1</b> Where and how can we get the data?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="where-and-how-can-we-get-the-data.html"><a href="where-and-how-can-we-get-the-data.html#data-retrieval"><i class="fa fa-check"></i><b>1.1.1</b> Data retrieval</a></li>
<li class="chapter" data-level="1.1.2" data-path="where-and-how-can-we-get-the-data.html"><a href="where-and-how-can-we-get-the-data.html#data-quality-control"><i class="fa fa-check"></i><b>1.1.2</b> Data quality control</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="how-many-world-cups-were-hosted-in-each-continent.html"><a href="how-many-world-cups-were-hosted-in-each-continent.html"><i class="fa fa-check"></i><b>1.2</b> How many world cups were hosted in each continent?</a></li>
<li class="chapter" data-level="1.3" data-path="what-is-the-timeline-of-hosting-the-world-cup.html"><a href="what-is-the-timeline-of-hosting-the-world-cup.html"><i class="fa fa-check"></i><b>1.3</b> What is the timeline of hosting the world cup?</a></li>
<li class="chapter" data-level="1.4" data-path="what-is-the-history-of-bidding-for-world-cup.html"><a href="what-is-the-history-of-bidding-for-world-cup.html"><i class="fa fa-check"></i><b>1.4</b> What is the history of bidding for world cup?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cost-of-hosting-world-cup.html"><a href="cost-of-hosting-world-cup.html"><i class="fa fa-check"></i><b>2</b> Cost of hosting world cup</a></li>
<li class="chapter" data-level="3" data-path="teams-performance.html"><a href="teams-performance.html"><i class="fa fa-check"></i><b>3</b> Teams’ performance</a></li>
<li class="chapter" data-level="4" data-path="players-performance.html"><a href="players-performance.html"><i class="fa fa-check"></i><b>4</b> Players’ performance</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Fifa worldcup 2022</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="where-and-how-can-we-get-the-data" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Where and how can we get the data?<a href="where-and-how-can-we-get-the-data.html#where-and-how-can-we-get-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="data-retrieval" class="section level3 hasAnchor" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Data retrieval<a href="where-and-how-can-we-get-the-data.html#data-retrieval" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Generally, we would like to know <strong>who</strong> (country, continent) <em>hosted</em> <strong>when</strong>. Since <em>hosting</em> is a lengthy process that starts by <em>bidding</em> and followed by FIFA evaluation. it would be interesting to incorporate <em>bidding</em> data into the analysis.</p>
<p>In this project we will use the data made available in this Wikipedia article about <a href="https://en.wikipedia.org/wiki/FIFA_World_Cup_hosts">FIFA World Cup hosts</a></p>
<p>To do that, we are going to use the <a href="https://rvest.tidyverse.org/">rvest</a> package to explore and scrape this tables directly into R.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="where-and-how-can-we-get-the-data.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># URL of the article</span></span>
<span id="cb2-2"><a href="where-and-how-can-we-get-the-data.html#cb2-2" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://en.wikipedia.org/wiki/FIFA_World_Cup_hosts&quot;</span></span>
<span id="cb2-3"><a href="where-and-how-can-we-get-the-data.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the webpage and obtain the pieces of the article containing tables</span></span>
<span id="cb2-4"><a href="where-and-how-can-we-get-the-data.html#cb2-4" aria-hidden="true" tabindex="-1"></a>tbls_lst <span class="ot">&lt;-</span>  url <span class="sc">%&gt;%</span></span>
<span id="cb2-5"><a href="where-and-how-can-we-get-the-data.html#cb2-5" aria-hidden="true" tabindex="-1"></a>  read_html <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="where-and-how-can-we-get-the-data.html#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_table</span>()</span>
<span id="cb2-7"><a href="where-and-how-can-we-get-the-data.html#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#number of retrieved tables</span></span>
<span id="cb2-8"><a href="where-and-how-can-we-get-the-data.html#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(tbls_lst)</span></code></pre></div>
<pre><code>## [1] 15</code></pre>
<p>We’ve scrapped the Wikipedia article and parsed all the tables, 15 in total! hmm, we don’t need all of them for our analysis. Let’s select only the tables of interest for this tutorial. We’ll limit our data analysis to the subset of tables showing the list of countries that have submitted a bid or actually hosted the world cup and the performance of host countries in our analysis.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="where-and-how-can-we-get-the-data.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select tables of interest</span></span>
<span id="cb4-2"><a href="where-and-how-can-we-get-the-data.html#cb4-2" aria-hidden="true" tabindex="-1"></a>tbls_lst <span class="ot">&lt;-</span> tbls_lst[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">10</span>)]</span>
<span id="cb4-3"><a href="where-and-how-can-we-get-the-data.html#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="where-and-how-can-we-get-the-data.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign names to the tables</span></span>
<span id="cb4-5"><a href="where-and-how-can-we-get-the-data.html#cb4-5" aria-hidden="true" tabindex="-1"></a>tables_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;List of hosts&quot;</span>,</span>
<span id="cb4-6"><a href="where-and-how-can-we-get-the-data.html#cb4-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Total bids by country&quot;</span>,</span>
<span id="cb4-7"><a href="where-and-how-can-we-get-the-data.html#cb4-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Host country performances&quot;</span>)</span>
<span id="cb4-8"><a href="where-and-how-can-we-get-the-data.html#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tbls_lst) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(tables_names) <span class="sc">%&gt;%</span> <span class="fu">str_replace_all</span>(<span class="st">&quot; &quot;</span>,<span class="st">&quot;_&quot;</span>)</span></code></pre></div>
<p>Let’s have a quick look at the top of the selected tables</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="where-and-how-can-we-get-the-data.html#cb5-1" aria-hidden="true" tabindex="-1"></a>gt<span class="sc">::</span><span class="fu">gt</span>(<span class="fu">head</span>(tbls_lst<span class="sc">$</span>list_of_hosts))</span></code></pre></div>
<div id="betqzpamod" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#betqzpamod .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#betqzpamod .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#betqzpamod .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#betqzpamod .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#betqzpamod .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#betqzpamod .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#betqzpamod .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#betqzpamod .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#betqzpamod .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#betqzpamod .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#betqzpamod .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#betqzpamod .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#betqzpamod .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#betqzpamod .gt_from_md > :first-child {
  margin-top: 0;
}

#betqzpamod .gt_from_md > :last-child {
  margin-bottom: 0;
}

#betqzpamod .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#betqzpamod .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#betqzpamod .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#betqzpamod .gt_row_group_first td {
  border-top-width: 2px;
}

#betqzpamod .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#betqzpamod .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#betqzpamod .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#betqzpamod .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#betqzpamod .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#betqzpamod .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#betqzpamod .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#betqzpamod .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#betqzpamod .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#betqzpamod .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#betqzpamod .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#betqzpamod .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#betqzpamod .gt_left {
  text-align: left;
}

#betqzpamod .gt_center {
  text-align: center;
}

#betqzpamod .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#betqzpamod .gt_font_normal {
  font-weight: normal;
}

#betqzpamod .gt_font_bold {
  font-weight: bold;
}

#betqzpamod .gt_font_italic {
  font-style: italic;
}

#betqzpamod .gt_super {
  font-size: 65%;
}

#betqzpamod .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#betqzpamod .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#betqzpamod .gt_indent_1 {
  text-indent: 5px;
}

#betqzpamod .gt_indent_2 {
  text-indent: 10px;
}

#betqzpamod .gt_indent_3 {
  text-indent: 15px;
}

#betqzpamod .gt_indent_4 {
  text-indent: 20px;
}

#betqzpamod .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Host nation(s)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Continent</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1930</td>
<td class="gt_row gt_left">Uruguay</td>
<td class="gt_row gt_left">South America</td></tr>
    <tr><td class="gt_row gt_right">1934</td>
<td class="gt_row gt_left">Italy</td>
<td class="gt_row gt_left">Europe</td></tr>
    <tr><td class="gt_row gt_right">1938</td>
<td class="gt_row gt_left">France</td>
<td class="gt_row gt_left">Europe</td></tr>
    <tr><td class="gt_row gt_right">1942</td>
<td class="gt_row gt_left">Cancelled because of World War II</td>
<td class="gt_row gt_left">Cancelled because of World War II</td></tr>
    <tr><td class="gt_row gt_right">1946</td>
<td class="gt_row gt_left">Cancelled because of World War II</td>
<td class="gt_row gt_left">Cancelled because of World War II</td></tr>
    <tr><td class="gt_row gt_right">1950</td>
<td class="gt_row gt_left">Brazil</td>
<td class="gt_row gt_left">South America</td></tr>
  </tbody>
  
  
</table>
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="where-and-how-can-we-get-the-data.html#cb6-1" aria-hidden="true" tabindex="-1"></a>gt<span class="sc">::</span><span class="fu">gt</span>(<span class="fu">head</span>(tbls_lst<span class="sc">$</span>total_bids_by_country))</span></code></pre></div>
<div id="zzubrsxjcs" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zzubrsxjcs .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zzubrsxjcs .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zzubrsxjcs .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zzubrsxjcs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zzubrsxjcs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zzubrsxjcs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zzubrsxjcs .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zzubrsxjcs .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zzubrsxjcs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zzubrsxjcs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zzubrsxjcs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zzubrsxjcs .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zzubrsxjcs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zzubrsxjcs .gt_from_md > :first-child {
  margin-top: 0;
}

#zzubrsxjcs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zzubrsxjcs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zzubrsxjcs .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zzubrsxjcs .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zzubrsxjcs .gt_row_group_first td {
  border-top-width: 2px;
}

#zzubrsxjcs .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zzubrsxjcs .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zzubrsxjcs .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zzubrsxjcs .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zzubrsxjcs .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zzubrsxjcs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zzubrsxjcs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zzubrsxjcs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zzubrsxjcs .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zzubrsxjcs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zzubrsxjcs .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zzubrsxjcs .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zzubrsxjcs .gt_left {
  text-align: left;
}

#zzubrsxjcs .gt_center {
  text-align: center;
}

#zzubrsxjcs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zzubrsxjcs .gt_font_normal {
  font-weight: normal;
}

#zzubrsxjcs .gt_font_bold {
  font-weight: bold;
}

#zzubrsxjcs .gt_font_italic {
  font-style: italic;
}

#zzubrsxjcs .gt_super {
  font-size: 65%;
}

#zzubrsxjcs .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#zzubrsxjcs .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zzubrsxjcs .gt_indent_1 {
  text-indent: 5px;
}

#zzubrsxjcs .gt_indent_2 {
  text-indent: 10px;
}

#zzubrsxjcs .gt_indent_3 {
  text-indent: 15px;
}

#zzubrsxjcs .gt_indent_4 {
  text-indent: 20px;
}

#zzubrsxjcs .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Country</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Bids</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Years</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Times  hosted</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Germany</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_left">1938, 1962,[a] 1966,[a]1974,[a]1982,[a]1990,[a]1998, 2006</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_left">Argentina</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">1938, 1962, 1970, 1978, 2014</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_left">England</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">1966, 1990, 1998, 2006, 2018</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_left">Italy</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">1930, 1934, 1974, 1982, 1990</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_left">Mexico</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">1970, 1978, 1986,[b] 2002, 2026[c]</td>
<td class="gt_row gt_right">3</td></tr>
    <tr><td class="gt_row gt_left">Morocco</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">1994, 1998, 2006, 2010, 2026</td>
<td class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="where-and-how-can-we-get-the-data.html#cb7-1" aria-hidden="true" tabindex="-1"></a>gt<span class="sc">::</span><span class="fu">gt</span>(<span class="fu">head</span>(tbls_lst<span class="sc">$</span>host_country_performances))</span></code></pre></div>
<div id="oulimhbrik" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#oulimhbrik .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#oulimhbrik .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oulimhbrik .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#oulimhbrik .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#oulimhbrik .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oulimhbrik .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oulimhbrik .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#oulimhbrik .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#oulimhbrik .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#oulimhbrik .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#oulimhbrik .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#oulimhbrik .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#oulimhbrik .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#oulimhbrik .gt_from_md > :first-child {
  margin-top: 0;
}

#oulimhbrik .gt_from_md > :last-child {
  margin-bottom: 0;
}

#oulimhbrik .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#oulimhbrik .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#oulimhbrik .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#oulimhbrik .gt_row_group_first td {
  border-top-width: 2px;
}

#oulimhbrik .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oulimhbrik .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#oulimhbrik .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#oulimhbrik .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oulimhbrik .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oulimhbrik .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#oulimhbrik .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#oulimhbrik .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oulimhbrik .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oulimhbrik .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oulimhbrik .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oulimhbrik .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oulimhbrik .gt_left {
  text-align: left;
}

#oulimhbrik .gt_center {
  text-align: center;
}

#oulimhbrik .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#oulimhbrik .gt_font_normal {
  font-weight: normal;
}

#oulimhbrik .gt_font_bold {
  font-weight: bold;
}

#oulimhbrik .gt_font_italic {
  font-style: italic;
}

#oulimhbrik .gt_super {
  font-size: 65%;
}

#oulimhbrik .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#oulimhbrik .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#oulimhbrik .gt_indent_1 {
  text-indent: 5px;
}

#oulimhbrik .gt_indent_2 {
  text-indent: 10px;
}

#oulimhbrik .gt_indent_3 {
  text-indent: 15px;
}

#oulimhbrik .gt_indent_4 {
  text-indent: 20px;
}

#oulimhbrik .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Result</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Note</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Pld</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">W</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">D</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">L</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GF</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GD</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1930</td>
<td class="gt_row gt_left">Uruguay</td>
<td class="gt_row gt_left">Champions</td>
<td class="gt_row gt_left">Best result, later equalled</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">+12</td></tr>
    <tr><td class="gt_row gt_right">1934</td>
<td class="gt_row gt_left">Italy</td>
<td class="gt_row gt_left">Champions</td>
<td class="gt_row gt_left">Best result, later equalled</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">+9</td></tr>
    <tr><td class="gt_row gt_right">1938</td>
<td class="gt_row gt_left">France</td>
<td class="gt_row gt_left">Quarter-finals</td>
<td class="gt_row gt_left">Best result, later improved</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_right">1950</td>
<td class="gt_row gt_left">Brazil</td>
<td class="gt_row gt_left">Runners-up</td>
<td class="gt_row gt_left">Best result, later improved</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">22</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">+16</td></tr>
    <tr><td class="gt_row gt_right">1954</td>
<td class="gt_row gt_left">Switzerland</td>
<td class="gt_row gt_left">Quarter-finals</td>
<td class="gt_row gt_left">Equalled best result</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_right">1958</td>
<td class="gt_row gt_left">Sweden</td>
<td class="gt_row gt_left">Runners-up</td>
<td class="gt_row gt_left">Best result</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">+5</td></tr>
  </tbody>
  
  
</table>
</div>
<p>Looks good! Next, we’ll have a deeper look at the data to insure that everything is in the right place.</p>
</div>
<div id="data-quality-control" class="section level3 hasAnchor" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Data quality control<a href="where-and-how-can-we-get-the-data.html#data-quality-control" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Parsing data from Web is not a perfect process due to different formatting. We’ll start by having a visual inspection of the tables using the package <code>visdat</code> and combine all the tables in a single plot.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="where-and-how-can-we-get-the-data.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Visualize the content of the tables</span></span>
<span id="cb8-2"><a href="where-and-how-can-we-get-the-data.html#cb8-2" aria-hidden="true" tabindex="-1"></a>(vis_dat_lst <span class="ot">&lt;-</span> <span class="fu">lapply</span>(tbls_lst,visdat<span class="sc">::</span>vis_dat))</span></code></pre></div>
<pre><code>## Warning: `gather_()` was deprecated in tidyr 1.2.0.
## ℹ Please use `gather()` instead.
## ℹ The deprecated feature was likely used in the visdat package.
##   Please report the issue at &lt;https://github.com/ropensci/visdat/issues&gt;.</code></pre>
<pre><code>## $list_of_hosts</code></pre>
<p><img src="01-hosting_history_files/figure-html/unnamed-chunk-5-1.png" width="90%" height="90%" /></p>
<pre><code>## 
## $total_bids_by_country</code></pre>
<p><img src="01-hosting_history_files/figure-html/unnamed-chunk-5-2.png" width="90%" height="90%" /></p>
<pre><code>## 
## $host_country_performances</code></pre>
<p><img src="01-hosting_history_files/figure-html/unnamed-chunk-5-3.png" width="90%" height="90%" /></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="where-and-how-can-we-get-the-data.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Add title of the data to the plot</span></span>
<span id="cb13-2"><a href="where-and-how-can-we-get-the-data.html#cb13-2" aria-hidden="true" tabindex="-1"></a>(vis_dat_lst <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">names</span>(vis_dat_lst), <span class="cf">function</span>(dat_name){</span>
<span id="cb13-3"><a href="where-and-how-can-we-get-the-data.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#subset the plot of by name</span></span>
<span id="cb13-4"><a href="where-and-how-can-we-get-the-data.html#cb13-4" aria-hidden="true" tabindex="-1"></a>  vis <span class="ot">&lt;-</span> vis_dat_lst[[dat_name]]</span>
<span id="cb13-5"><a href="where-and-how-can-we-get-the-data.html#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#add title</span></span>
<span id="cb13-6"><a href="where-and-how-can-we-get-the-data.html#cb13-6" aria-hidden="true" tabindex="-1"></a>  vis <span class="sc">+</span> </span>
<span id="cb13-7"><a href="where-and-how-can-we-get-the-data.html#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> dat_name)</span>
<span id="cb13-8"><a href="where-and-how-can-we-get-the-data.html#cb13-8" aria-hidden="true" tabindex="-1"></a>  }))</span></code></pre></div>
<pre><code>## [[1]]</code></pre>
<p><img src="01-hosting_history_files/figure-html/unnamed-chunk-5-4.png" width="90%" height="90%" /></p>
<pre><code>## 
## [[2]]</code></pre>
<p><img src="01-hosting_history_files/figure-html/unnamed-chunk-5-5.png" width="90%" height="90%" /></p>
<pre><code>## 
## [[3]]</code></pre>
<p><img src="01-hosting_history_files/figure-html/unnamed-chunk-5-6.png" width="90%" height="90%" /></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="where-and-how-can-we-get-the-data.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#combine all the tables in a single plot</span></span>
<span id="cb17-2"><a href="where-and-how-can-we-get-the-data.html#cb17-2" aria-hidden="true" tabindex="-1"></a>vis_dat_lst <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="where-and-how-can-we-get-the-data.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  patchwork<span class="sc">::</span><span class="fu">wrap_plots</span>() <span class="sc">&amp;</span></span>
<span id="cb17-4"><a href="where-and-how-can-we-get-the-data.html#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="01-hosting_history_files/figure-html/unnamed-chunk-5-7.png" width="90%" height="90%" /></p>
<p>The plots reveal two issues. First, the type of the column “Years” in the second table is character! We’ll fix this later, but now let’s deal with the second issue. The third table shows missing data in many columns! Let’s have a deeper look on this table</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="where-and-how-can-we-get-the-data.html#cb18-1" aria-hidden="true" tabindex="-1"></a>gt<span class="sc">::</span><span class="fu">gt</span>(tbls_lst[[<span class="dv">3</span>]])</span></code></pre></div>
<div id="hgydatuzgs" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hgydatuzgs .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hgydatuzgs .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hgydatuzgs .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hgydatuzgs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hgydatuzgs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hgydatuzgs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hgydatuzgs .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hgydatuzgs .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hgydatuzgs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hgydatuzgs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hgydatuzgs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hgydatuzgs .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hgydatuzgs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hgydatuzgs .gt_from_md > :first-child {
  margin-top: 0;
}

#hgydatuzgs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hgydatuzgs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hgydatuzgs .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hgydatuzgs .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hgydatuzgs .gt_row_group_first td {
  border-top-width: 2px;
}

#hgydatuzgs .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hgydatuzgs .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hgydatuzgs .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hgydatuzgs .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hgydatuzgs .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hgydatuzgs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hgydatuzgs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hgydatuzgs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hgydatuzgs .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hgydatuzgs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hgydatuzgs .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hgydatuzgs .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hgydatuzgs .gt_left {
  text-align: left;
}

#hgydatuzgs .gt_center {
  text-align: center;
}

#hgydatuzgs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hgydatuzgs .gt_font_normal {
  font-weight: normal;
}

#hgydatuzgs .gt_font_bold {
  font-weight: bold;
}

#hgydatuzgs .gt_font_italic {
  font-style: italic;
}

#hgydatuzgs .gt_super {
  font-size: 65%;
}

#hgydatuzgs .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#hgydatuzgs .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hgydatuzgs .gt_indent_1 {
  text-indent: 5px;
}

#hgydatuzgs .gt_indent_2 {
  text-indent: 10px;
}

#hgydatuzgs .gt_indent_3 {
  text-indent: 15px;
}

#hgydatuzgs .gt_indent_4 {
  text-indent: 20px;
}

#hgydatuzgs .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Result</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Note</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Pld</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">W</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">D</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">L</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GF</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">GD</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1930</td>
<td class="gt_row gt_left">Uruguay</td>
<td class="gt_row gt_left">Champions</td>
<td class="gt_row gt_left">Best result, later equalled</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_left">+12</td></tr>
    <tr><td class="gt_row gt_right">1934</td>
<td class="gt_row gt_left">Italy</td>
<td class="gt_row gt_left">Champions</td>
<td class="gt_row gt_left">Best result, later equalled</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_left">+9</td></tr>
    <tr><td class="gt_row gt_right">1938</td>
<td class="gt_row gt_left">France</td>
<td class="gt_row gt_left">Quarter-finals</td>
<td class="gt_row gt_left">Best result, later improved</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_left">0</td></tr>
    <tr><td class="gt_row gt_right">1950</td>
<td class="gt_row gt_left">Brazil</td>
<td class="gt_row gt_left">Runners-up</td>
<td class="gt_row gt_left">Best result, later improved</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">22</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_left">+16</td></tr>
    <tr><td class="gt_row gt_right">1954</td>
<td class="gt_row gt_left">Switzerland</td>
<td class="gt_row gt_left">Quarter-finals</td>
<td class="gt_row gt_left">Equalled best result</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_left">0</td></tr>
    <tr><td class="gt_row gt_right">1958</td>
<td class="gt_row gt_left">Sweden</td>
<td class="gt_row gt_left">Runners-up</td>
<td class="gt_row gt_left">Best result</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_left">+5</td></tr>
    <tr><td class="gt_row gt_right">1962</td>
<td class="gt_row gt_left">Chile</td>
<td class="gt_row gt_left">Third place</td>
<td class="gt_row gt_left">Best result</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_left">+2</td></tr>
    <tr><td class="gt_row gt_right">1966</td>
<td class="gt_row gt_left">England</td>
<td class="gt_row gt_left">Champions</td>
<td class="gt_row gt_left">Best result</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_left">+8</td></tr>
    <tr><td class="gt_row gt_right">1970</td>
<td class="gt_row gt_left">Mexico</td>
<td class="gt_row gt_left">Quarter-finals</td>
<td class="gt_row gt_left">Best result, later equalled (again as hosts)</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_left">+2</td></tr>
    <tr><td class="gt_row gt_right">1974</td>
<td class="gt_row gt_left">West Germany</td>
<td class="gt_row gt_left">Champions</td>
<td class="gt_row gt_left">Equalled best result, later equalled again</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">13</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_left">+9</td></tr>
    <tr><td class="gt_row gt_right">1978</td>
<td class="gt_row gt_left">Argentina</td>
<td class="gt_row gt_left">Champions</td>
<td class="gt_row gt_left">Best result, later equalled</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_left">+9</td></tr>
    <tr><td class="gt_row gt_right">1982</td>
<td class="gt_row gt_left">Spain</td>
<td class="gt_row gt_left">Second round (top 12)</td>
<td class="gt_row gt_left"></td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">−1</td></tr>
    <tr><td class="gt_row gt_right">1986</td>
<td class="gt_row gt_left">Mexico</td>
<td class="gt_row gt_left">Quarter-finals</td>
<td class="gt_row gt_left">Equalled best result (previous time again as hosts)</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_left">+4</td></tr>
    <tr><td class="gt_row gt_right">1990</td>
<td class="gt_row gt_left">Italy</td>
<td class="gt_row gt_left">Third place</td>
<td class="gt_row gt_left"></td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_left">+8</td></tr>
    <tr><td class="gt_row gt_right">1994</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">Round of 16</td>
<td class="gt_row gt_left"></td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_left">−1</td></tr>
    <tr><td class="gt_row gt_right">1998</td>
<td class="gt_row gt_left">France</td>
<td class="gt_row gt_left">Champions</td>
<td class="gt_row gt_left">Best result, later equalled</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_left">+13</td></tr>
    <tr><td class="gt_row gt_right">2002</td>
<td class="gt_row gt_left">South Korea</td>
<td class="gt_row gt_left">Fourth place</td>
<td class="gt_row gt_left">Best result</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_left">+2</td></tr>
    <tr><td class="gt_row gt_right">2002</td>
<td class="gt_row gt_left">Japan</td>
<td class="gt_row gt_left">Round of 16</td>
<td class="gt_row gt_left">Best result, later equalled</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_left">+2</td></tr>
    <tr><td class="gt_row gt_right">2006</td>
<td class="gt_row gt_left">Germany</td>
<td class="gt_row gt_left">Third place</td>
<td class="gt_row gt_left"></td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">14</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_left">+8</td></tr>
    <tr><td class="gt_row gt_right">2010</td>
<td class="gt_row gt_left">South Africa</td>
<td class="gt_row gt_left">First round</td>
<td class="gt_row gt_left">Equalled best (and worst) result</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">−2</td></tr>
    <tr><td class="gt_row gt_right">2014</td>
<td class="gt_row gt_left">Brazil</td>
<td class="gt_row gt_left">Fourth place</td>
<td class="gt_row gt_left"></td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">14</td>
<td class="gt_row gt_left">−3</td></tr>
    <tr><td class="gt_row gt_right">2018</td>
<td class="gt_row gt_left">Russia</td>
<td class="gt_row gt_left">Quarter-finals</td>
<td class="gt_row gt_left">Best result as independent nation</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_left">+4</td></tr>
    <tr><td class="gt_row gt_right">2022</td>
<td class="gt_row gt_left">Qatar</td>
<td class="gt_row gt_left">First round</td>
<td class="gt_row gt_left">Best result</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_left">-6</td></tr>
    <tr><td class="gt_row gt_right">2026</td>
<td class="gt_row gt_left">Canada</td>
<td class="gt_row gt_left">TBD</td>
<td class="gt_row gt_left"></td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_left"></td></tr>
    <tr><td class="gt_row gt_right">2026</td>
<td class="gt_row gt_left">Mexico</td>
<td class="gt_row gt_left">TBD</td>
<td class="gt_row gt_left"></td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_left"></td></tr>
    <tr><td class="gt_row gt_right">2026</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">TBD</td>
<td class="gt_row gt_left"></td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_left"></td></tr>
  </tbody>
  
  
</table>
</div>
<p>Apparently, the missing values are yet-to-be-determined performances of the hosting countries in 2026! Therefore, this shouldn’t be a concern and is not a failure of parsing the table.</p>
<p>Before rushing to the analysis, let’s push the tables through a few rounds of quality control.</p>
<p>let’s start by cleaning column names by handling special characters, spaces, and applying a consistent format.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="where-and-how-can-we-get-the-data.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#names of columns before cleaning</span></span>
<span id="cb19-2"><a href="where-and-how-can-we-get-the-data.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(tbls_lst, colnames)</span></code></pre></div>
<pre><code>## $list_of_hosts
## [1] &quot;Year&quot;           &quot;Host nation(s)&quot; &quot;Continent&quot;     
## 
## $total_bids_by_country
## [1] &quot;Country&quot;       &quot;Bids&quot;          &quot;Years&quot;         &quot;Times  hosted&quot;
## 
## $host_country_performances
##  [1] &quot;Year&quot;   &quot;Team&quot;   &quot;Result&quot; &quot;Note&quot;   &quot;Pld&quot;    &quot;W&quot;      &quot;D&quot;      &quot;L&quot;     
##  [9] &quot;GF&quot;     &quot;GA&quot;     &quot;GD&quot;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="where-and-how-can-we-get-the-data.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean columns&#39; names</span></span>
<span id="cb21-2"><a href="where-and-how-can-we-get-the-data.html#cb21-2" aria-hidden="true" tabindex="-1"></a>tbls_lst <span class="ot">&lt;-</span> <span class="fu">lapply</span>(tbls_lst,  janitor<span class="sc">::</span>clean_names)</span>
<span id="cb21-3"><a href="where-and-how-can-we-get-the-data.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">#names of columns after cleaning</span></span>
<span id="cb21-4"><a href="where-and-how-can-we-get-the-data.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(tbls_lst, colnames)</span></code></pre></div>
<pre><code>## $list_of_hosts
## [1] &quot;year&quot;          &quot;host_nation_s&quot; &quot;continent&quot;    
## 
## $total_bids_by_country
## [1] &quot;country&quot;      &quot;bids&quot;         &quot;years&quot;        &quot;times_hosted&quot;
## 
## $host_country_performances
##  [1] &quot;year&quot;   &quot;team&quot;   &quot;result&quot; &quot;note&quot;   &quot;pld&quot;    &quot;w&quot;      &quot;d&quot;      &quot;l&quot;     
##  [9] &quot;gf&quot;     &quot;ga&quot;     &quot;gd&quot;</code></pre>
<p>One can see that the column with the countries has a different name (“host_nation_s”, “country”, “team”) in each table. Let’s fix this inconsistency and set an new name ( “country_name”) to all of them.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="where-and-how-can-we-get-the-data.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#old inconsistent names</span></span>
<span id="cb23-2"><a href="where-and-how-can-we-get-the-data.html#cb23-2" aria-hidden="true" tabindex="-1"></a>cols_old <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;country&quot;</span>, <span class="st">&quot;team&quot;</span>, <span class="st">&quot;host_nation_s&quot;</span>)</span>
<span id="cb23-3"><a href="where-and-how-can-we-get-the-data.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#new column name</span></span>
<span id="cb23-4"><a href="where-and-how-can-we-get-the-data.html#cb23-4" aria-hidden="true" tabindex="-1"></a>col_new <span class="ot">&lt;-</span> <span class="st">&quot;country_name&quot;</span></span>
<span id="cb23-5"><a href="where-and-how-can-we-get-the-data.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#apply the replacement</span></span>
<span id="cb23-6"><a href="where-and-how-can-we-get-the-data.html#cb23-6" aria-hidden="true" tabindex="-1"></a>(tbls_lst <span class="ot">&lt;-</span> <span class="fu">lapply</span>(tbls_lst, <span class="cf">function</span>(tbl){</span>
<span id="cb23-7"><a href="where-and-how-can-we-get-the-data.html#cb23-7" aria-hidden="true" tabindex="-1"></a>  tbl <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="where-and-how-can-we-get-the-data.html#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="fu">ifelse</span>(.x <span class="sc">%in%</span> cols_old,</span>
<span id="cb23-9"><a href="where-and-how-can-we-get-the-data.html#cb23-9" aria-hidden="true" tabindex="-1"></a>                         col_new,</span>
<span id="cb23-10"><a href="where-and-how-can-we-get-the-data.html#cb23-10" aria-hidden="true" tabindex="-1"></a>                         .x))</span>
<span id="cb23-11"><a href="where-and-how-can-we-get-the-data.html#cb23-11" aria-hidden="true" tabindex="-1"></a>  }))</span></code></pre></div>
<pre><code>## $list_of_hosts
## # A tibble: 25 × 3
##     year country_name                      continent                        
##    &lt;int&gt; &lt;chr&gt;                             &lt;chr&gt;                            
##  1  1930 Uruguay                           South America                    
##  2  1934 Italy                             Europe                           
##  3  1938 France                            Europe                           
##  4  1942 Cancelled because of World War II Cancelled because of World War II
##  5  1946 Cancelled because of World War II Cancelled because of World War II
##  6  1950 Brazil                            South America                    
##  7  1954 Switzerland                       Europe                           
##  8  1958 Sweden                            Europe                           
##  9  1962 Chile                             South America                    
## 10  1966 England                           Europe                           
## # … with 15 more rows
## 
## $total_bids_by_country
## # A tibble: 35 × 4
##    country_name   bids years                                             times…¹
##    &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;                                               &lt;int&gt;
##  1 Germany           8 1938, 1962,[a] 1966,[a]1974,[a]1982,[a]1990,[a]1…       2
##  2 Argentina         5 1938, 1962, 1970, 1978, 2014                            1
##  3 England           5 1966, 1990, 1998, 2006, 2018                            1
##  4 Italy             5 1930, 1934, 1974, 1982, 1990                            2
##  5 Mexico            5 1970, 1978, 1986,[b] 2002, 2026[c]                      3
##  6 Morocco           5 1994, 1998, 2006, 2010, 2026                            0
##  7 Spain             5 1930, 1966, 1974, 1982, 2018[d]                         1
##  8 Brazil            4 1950, 1994, 2006, 2014                                  2
##  9 Colombia          4 1970, 1978, 1986,[b]2014                                1
## 10 United States     4 1986, 1994, 2022, 2026[c]                               2
## # … with 25 more rows, and abbreviated variable name ¹​times_hosted
## 
## $host_country_performances
## # A tibble: 26 × 11
##     year country_name result     note    pld     w     d     l    gf    ga gd   
##    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;
##  1  1930 Uruguay      Champions  Best…     4     4     0     0    15     3 +12  
##  2  1934 Italy        Champions  Best…     5     4     1     0    12     3 +9   
##  3  1938 France       Quarter-f… Best…     2     1     0     1     4     4 0    
##  4  1950 Brazil       Runners-up Best…     6     4     1     1    22     6 +16  
##  5  1954 Switzerland  Quarter-f… Equa…     4     2     0     2    11    11 0    
##  6  1958 Sweden       Runners-up Best…     6     4     1     1    12     7 +5   
##  7  1962 Chile        Third pla… Best…     6     4     0     2    10     8 +2   
##  8  1966 England      Champions  Best…     6     5     1     0    11     3 +8   
##  9  1970 Mexico       Quarter-f… Best…     4     2     1     1     6     4 +2   
## 10  1974 West Germany Champions  Equa…     7     6     0     1    13     4 +9   
## # … with 16 more rows</code></pre>
<p>Similarly, the year column is called “years” in the second table. Let’s make it consistent with the other tables and rename it to “year”.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="where-and-how-can-we-get-the-data.html#cb25-1" aria-hidden="true" tabindex="-1"></a>tbls_lst<span class="sc">$</span>total_bids_by_country <span class="ot">&lt;-</span> tbls_lst<span class="sc">$</span>total_bids_by_country <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="where-and-how-can-we-get-the-data.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">year =</span> <span class="st">&quot;years&quot;</span>)</span></code></pre></div>
<p>Next, we need to insure that the data is “tidy”. Obviously, this is not the case for the table below where the column column “years” show mutliple dates concatenated in the same row</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="where-and-how-can-we-get-the-data.html#cb26-1" aria-hidden="true" tabindex="-1"></a>tbls_lst<span class="sc">$</span>total_bids_by_country</span></code></pre></div>
<pre><code>## # A tibble: 35 × 4
##    country_name   bids year                                              times…¹
##    &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;                                               &lt;int&gt;
##  1 Germany           8 1938, 1962,[a] 1966,[a]1974,[a]1982,[a]1990,[a]1…       2
##  2 Argentina         5 1938, 1962, 1970, 1978, 2014                            1
##  3 England           5 1966, 1990, 1998, 2006, 2018                            1
##  4 Italy             5 1930, 1934, 1974, 1982, 1990                            2
##  5 Mexico            5 1970, 1978, 1986,[b] 2002, 2026[c]                      3
##  6 Morocco           5 1994, 1998, 2006, 2010, 2026                            0
##  7 Spain             5 1930, 1966, 1974, 1982, 2018[d]                         1
##  8 Brazil            4 1950, 1994, 2006, 2014                                  2
##  9 Colombia          4 1970, 1978, 1986,[b]2014                                1
## 10 United States     4 1986, 1994, 2022, 2026[c]                               2
## # … with 25 more rows, and abbreviated variable name ¹​times_hosted</code></pre>
<p>what we need to do is to split years of bids into separate entries and convert it to numeric</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="where-and-how-can-we-get-the-data.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#separate concatenated years into separate rows</span></span>
<span id="cb28-2"><a href="where-and-how-can-we-get-the-data.html#cb28-2" aria-hidden="true" tabindex="-1"></a>(tbls_lst<span class="sc">$</span>total_bids_by_country <span class="ot">&lt;-</span> tbls_lst<span class="sc">$</span>total_bids_by_country <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="where-and-how-can-we-get-the-data.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">str_extract_all</span>(year, <span class="st">&quot;[0-9]+&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="where-and-how-can-we-get-the-data.html#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb28-5"><a href="where-and-how-can-we-get-the-data.html#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.numeric</span>(year)))</span></code></pre></div>
<pre><code>## # A tibble: 90 × 4
##    country_name  bids  year times_hosted
##    &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt;        &lt;int&gt;
##  1 Germany          8  1938            2
##  2 Germany          8  1962            2
##  3 Germany          8  1966            2
##  4 Germany          8  1974            2
##  5 Germany          8  1982            2
##  6 Germany          8  1990            2
##  7 Germany          8  1998            2
##  8 Germany          8  2006            2
##  9 Argentina        5  1938            1
## 10 Argentina        5  1962            1
## # … with 80 more rows</code></pre>
<p>and do the same thing by splitting cohosts of the same world cup (e.g. “Japan South Korea”) into separate rows entries (“Japan”, “South Korea”).</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="where-and-how-can-we-get-the-data.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#separate cohosting countries into separate entries</span></span>
<span id="cb30-2"><a href="where-and-how-can-we-get-the-data.html#cb30-2" aria-hidden="true" tabindex="-1"></a>tbls_lst<span class="sc">$</span>list_of_hosts <span class="ot">&lt;-</span> tbls_lst<span class="sc">$</span>list_of_hosts <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="where-and-how-can-we-get-the-data.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">country_name =</span> <span class="fu">str_split</span>(country_name, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s{2}&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="where-and-how-can-we-get-the-data.html#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(country_name) <span class="sc">%&gt;%</span> </span>
<span id="cb30-5"><a href="where-and-how-can-we-get-the-data.html#cb30-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">host_year =</span> <span class="st">&quot;year&quot;</span>)</span></code></pre></div>
<p>Have a look on <code>separate_rows()</code> for another way to achieve the same effect</p>
<p>Next, let’s give a meaningful order to the results of the teams.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="where-and-how-can-we-get-the-data.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#order of the results</span></span>
<span id="cb31-2"><a href="where-and-how-can-we-get-the-data.html#cb31-2" aria-hidden="true" tabindex="-1"></a>results_order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Champions&quot;</span>,</span>
<span id="cb31-3"><a href="where-and-how-can-we-get-the-data.html#cb31-3" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;Runners-up&quot;</span>,</span>
<span id="cb31-4"><a href="where-and-how-can-we-get-the-data.html#cb31-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;Third place&quot;</span>,</span>
<span id="cb31-5"><a href="where-and-how-can-we-get-the-data.html#cb31-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;Fourth place&quot;</span>,</span>
<span id="cb31-6"><a href="where-and-how-can-we-get-the-data.html#cb31-6" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;Quarter-finals&quot;</span>,</span>
<span id="cb31-7"><a href="where-and-how-can-we-get-the-data.html#cb31-7" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;Round of 16&quot;</span>,</span>
<span id="cb31-8"><a href="where-and-how-can-we-get-the-data.html#cb31-8" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;Second round&quot;</span>,</span>
<span id="cb31-9"><a href="where-and-how-can-we-get-the-data.html#cb31-9" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;First round&quot;</span>,</span>
<span id="cb31-10"><a href="where-and-how-can-we-get-the-data.html#cb31-10" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;TBD&quot;</span></span>
<span id="cb31-11"><a href="where-and-how-can-we-get-the-data.html#cb31-11" aria-hidden="true" tabindex="-1"></a>                   )</span>
<span id="cb31-12"><a href="where-and-how-can-we-get-the-data.html#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="co">#set the order</span></span>
<span id="cb31-13"><a href="where-and-how-can-we-get-the-data.html#cb31-13" aria-hidden="true" tabindex="-1"></a>tbls_lst<span class="sc">$</span>host_country_performances  <span class="ot">&lt;-</span> tbls_lst<span class="sc">$</span>host_country_performances <span class="sc">%&gt;%</span></span>
<span id="cb31-14"><a href="where-and-how-can-we-get-the-data.html#cb31-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">result =</span> <span class="fu">ifelse</span>(result <span class="sc">==</span> <span class="st">&quot;Second round (top 12)&quot;</span>, <span class="st">&quot;Second round&quot;</span>, result),</span>
<span id="cb31-15"><a href="where-and-how-can-we-get-the-data.html#cb31-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">result =</span> <span class="fu">factor</span>(result, <span class="at">levels =</span> results_order))</span></code></pre></div>
<p>And we’ll end this part by defining a new column with country code (isoc2).</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="where-and-how-can-we-get-the-data.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#get iso2 code of each country (flags for Yugoslavia and England are missing)</span></span>
<span id="cb32-2"><a href="where-and-how-can-we-get-the-data.html#cb32-2" aria-hidden="true" tabindex="-1"></a>(tbls_lst <span class="ot">&lt;-</span> <span class="fu">lapply</span>(tbls_lst,<span class="cf">function</span>(tbl){</span>
<span id="cb32-3"><a href="where-and-how-can-we-get-the-data.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  tbl<span class="sc">$</span>country_code <span class="ot">&lt;-</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(tbl<span class="sc">$</span>country_name,</span>
<span id="cb32-4"><a href="where-and-how-can-we-get-the-data.html#cb32-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;country.name&quot;</span>,<span class="co"># the provided country label</span></span>
<span id="cb32-5"><a href="where-and-how-can-we-get-the-data.html#cb32-5" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;iso2c&quot;</span><span class="co"># the country code</span></span>
<span id="cb32-6"><a href="where-and-how-can-we-get-the-data.html#cb32-6" aria-hidden="true" tabindex="-1"></a>                                            )</span>
<span id="cb32-7"><a href="where-and-how-can-we-get-the-data.html#cb32-7" aria-hidden="true" tabindex="-1"></a>  tbl</span>
<span id="cb32-8"><a href="where-and-how-can-we-get-the-data.html#cb32-8" aria-hidden="true" tabindex="-1"></a>  }))</span></code></pre></div>
<pre><code>## Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: Cancelled because of World War II, England</code></pre>
<pre><code>## Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: England, Yugoslavia</code></pre>
<pre><code>## Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: England</code></pre>
<pre><code>## $list_of_hosts
## # A tibble: 28 × 4
##    host_year country_name                      continent                 count…¹
##        &lt;int&gt; &lt;chr&gt;                             &lt;chr&gt;                     &lt;chr&gt;  
##  1      1930 Uruguay                           South America             UY     
##  2      1934 Italy                             Europe                    IT     
##  3      1938 France                            Europe                    FR     
##  4      1942 Cancelled because of World War II Cancelled because of Wor… &lt;NA&gt;   
##  5      1946 Cancelled because of World War II Cancelled because of Wor… &lt;NA&gt;   
##  6      1950 Brazil                            South America             BR     
##  7      1954 Switzerland                       Europe                    CH     
##  8      1958 Sweden                            Europe                    SE     
##  9      1962 Chile                             South America             CL     
## 10      1966 England                           Europe                    &lt;NA&gt;   
## # … with 18 more rows, and abbreviated variable name ¹​country_code
## 
## $total_bids_by_country
## # A tibble: 90 × 5
##    country_name  bids  year times_hosted country_code
##    &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt;        &lt;int&gt; &lt;chr&gt;       
##  1 Germany          8  1938            2 DE          
##  2 Germany          8  1962            2 DE          
##  3 Germany          8  1966            2 DE          
##  4 Germany          8  1974            2 DE          
##  5 Germany          8  1982            2 DE          
##  6 Germany          8  1990            2 DE          
##  7 Germany          8  1998            2 DE          
##  8 Germany          8  2006            2 DE          
##  9 Argentina        5  1938            1 AR          
## 10 Argentina        5  1962            1 AR          
## # … with 80 more rows
## 
## $host_country_performances
## # A tibble: 26 × 12
##     year countr…¹ result note    pld     w     d     l    gf    ga gd    count…²
##    &lt;int&gt; &lt;chr&gt;    &lt;fct&gt;  &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  
##  1  1930 Uruguay  Champ… Best…     4     4     0     0    15     3 +12   UY     
##  2  1934 Italy    Champ… Best…     5     4     1     0    12     3 +9    IT     
##  3  1938 France   Quart… Best…     2     1     0     1     4     4 0     FR     
##  4  1950 Brazil   Runne… Best…     6     4     1     1    22     6 +16   BR     
##  5  1954 Switzer… Quart… Equa…     4     2     0     2    11    11 0     CH     
##  6  1958 Sweden   Runne… Best…     6     4     1     1    12     7 +5    SE     
##  7  1962 Chile    Third… Best…     6     4     0     2    10     8 +2    CL     
##  8  1966 England  Champ… Best…     6     5     1     0    11     3 +8    &lt;NA&gt;   
##  9  1970 Mexico   Quart… Best…     4     2     1     1     6     4 +2    MX     
## 10  1974 West Ge… Champ… Equa…     7     6     0     1    13     4 +9    DE     
## # … with 16 more rows, and abbreviated variable names ¹​country_name,
## #   ²​country_code</code></pre>
<p>Quality control is not over yet! We need to manually apply some historical modification to the data.</p>
<p>First, let’s correct the entry of Colombia. After being chosen as a host in 1986, the country had to withdrew from hosting the cup due to economic concerns.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="where-and-how-can-we-get-the-data.html#cb37-1" aria-hidden="true" tabindex="-1"></a>tbls_lst<span class="sc">$</span>total_bids_by_country <span class="ot">&lt;-</span> tbls_lst<span class="sc">$</span>total_bids_by_country <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="where-and-how-can-we-get-the-data.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">times_hosted =</span> <span class="fu">ifelse</span>(country_name <span class="sc">==</span> <span class="st">&quot;Colombia&quot;</span>, <span class="dv">0</span>, times_hosted))</span></code></pre></div>
<p>Second, as Berlin Wall was brought to the ground few decades ago, let’s replace West Germany” with “Germany”.</p>
<div class="figure">
<img src="https://fifanews.b-cdn.net/wp-content/uploads/2018/02/1974-World-Cup-final-winner-Squad.jpg" alt="" />
<p class="caption">West Germany national team</p>
</div>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="where-and-how-can-we-get-the-data.html#cb38-1" aria-hidden="true" tabindex="-1"></a>tbls_lst <span class="ot">&lt;-</span> <span class="fu">lapply</span>(tbls_lst, <span class="cf">function</span>(tbl){</span>
<span id="cb38-2"><a href="where-and-how-can-we-get-the-data.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  tbl <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="where-and-how-can-we-get-the-data.html#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), <span class="co">#select character columns</span></span>
<span id="cb38-4"><a href="where-and-how-can-we-get-the-data.html#cb38-4" aria-hidden="true" tabindex="-1"></a>                  <span class="sc">~</span> <span class="fu">str_replace</span>(.x, <span class="st">&quot;West Germany&quot;</span>, <span class="st">&quot;Germany&quot;</span>) <span class="co">#define replacement</span></span>
<span id="cb38-5"><a href="where-and-how-can-we-get-the-data.html#cb38-5" aria-hidden="true" tabindex="-1"></a>                  )</span>
<span id="cb38-6"><a href="where-and-how-can-we-get-the-data.html#cb38-6" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb38-7"><a href="where-and-how-can-we-get-the-data.html#cb38-7" aria-hidden="true" tabindex="-1"></a>  })</span></code></pre></div>
<p>Now that the data is analysis-ready, it is time to explore some interesting questions!</p>
<p><img src="https://media.giphy.com/media/WmzhEJZsON3Bk7ulRY/giphy.gif" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="history-of-hosting-fifa-world-cup.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="how-many-world-cups-were-hosted-in-each-continent.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Cairo-Data-Science-Club-CDC/Fifa-worldcup-2022/edit/main/01-hosting_history.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
